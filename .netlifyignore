# Netlify Build Optimization - Exclude files to reduce storage usage

# Test files and directories
**/__tests__/
**/*.test.ts
**/*.test.js
**/*.spec.ts
**/*.spec.js
**/test-*.ts
**/test-*.js

# Development and build artifacts
node_modules/
.git/
.vscode/
.idea/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Documentation and markdown files (except README)
docs/
*.md
!README.md

# Source maps and development files
**/*.map
**/*.d.ts.map

# Migration files (not needed in production)
**/migrations/
database/
# CRITICAL FIX: Ensure crypto and security utilities are NOT excluded
!lib/security/
!utils/crypto-factory.ts
!src/hooks/useCrypto.ts

# Example and demo files
**/examples/
**/demo/
**/sample/

# Temporary and cache files
.cache/
.temp/
.tmp/
*.tmp
*.temp

# IDE and editor files
.vscode/
.idea/
*.swp
*.swo
*~

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Backup files
*.bak
*.backup
*.old

# Large media files (if any)
*.mp4
*.avi
*.mov
*.wmv
*.flv
*.webm

# Duplicate JavaScript files (keep TypeScript, exclude compiled JS if both exist)
# This helps when both .ts and .js versions exist
netlify/functions/**/*.js
!netlify/functions/nostr-otp-service.js
!netlify/functions/register-identity.js
!netlify/functions/supabase.js
# CRITICAL FIX: Ensure essential utility JS files are not excluded
!lib/**/*.js
!utils/**/*.js

# Keep only essential functions for production
# Exclude development-only functions
netlify/functions/crypto-profile-installer.ts
netlify/functions/crypto-validator.ts
netlify/functions/startup-validator.ts
netlify/functions/enhanced-rewards.ts

# Exclude privacy examples and demos
netlify/functions/examples/
netlify/functions/privacy/lnproxy-privacy.ts

# Additional storage optimizations
scripts/
database/
migrations/
*.sql
*.md
!README.md

# Large development files
**/*.log
**/*.cache
**/coverage/
**/dist/
**/build/

# Duplicate or legacy files
lib/supabase-server.ts
**/*-backup.*
**/*-old.*
**/*-legacy.*
