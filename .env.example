# ===========================================
# SUPABASE CONFIGURATION (REQUIRED FOR SSS)
# ===========================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here
VITE_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
VITE_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Alternative naming (for compatibility)
SUPABASE_SERVICE_KEY=your_service_role_key_here

# Database Configuration (Legacy)
DATABASE_URL=postgres://username:password@localhost:5432/identity_forge

# Redis Configuration
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# Nostr Configuration
NOSTR_RELAY_URL=wss://relay.example.com
NOSTR_PRIVATE_KEY=your_nostr_private_key_here

# Lightning Network Configuration
LIGHTNING_NODE_URL=https://your-lightning-node.com
LIGHTNING_MACAROON=your_macaroon_here
LIGHTNING_CERT_PATH=/path/to/tls.cert

# LNbits/Voltage Configuration
VITE_VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VITE_VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here
VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here

# LNProxy Privacy Configuration
VITE_LNPROXY_URL=https://lnproxy.org
LNPROXY_URL=https://lnproxy.org

# Lightning Address Configuration
VITE_LIGHTNING_ADDRESS_DOMAIN=satnam.pub
LIGHTNING_ADDRESS_DOMAIN=satnam.pub

# NIP-05 Configuration
NIP05_DOMAIN=yourdomain.com

# Family Member Configuration
# Domain used to identify family members for internal transfers
FAMILY_DOMAIN=satnam.pub
# Maximum length for usernames to be considered internal family members
FAMILY_USERNAME_MAX_LENGTH=20

# Server Configuration
PORT=3000
NODE_ENV=development

# ===========================================
# SSS & PRIVACY CONFIGURATION (CRITICAL)
# ===========================================
# Master key for encryption (change in production!)
# Generate with: openssl rand -base64 32
PRIVACY_MASTER_KEY=your-strong-master-key-here-32-chars-minimum

# Privacy-first authentication base salt
VITE_PRIVACY_BASE_SALT=satnam-privacy-2024

# Family encryption key (for browser use)
VITE_FAMILY_ENCRYPTION_KEY=your-family-encryption-key-here

# API Base URL (for browser use)
VITE_API_URL=/api

# Feature flags for SSS system
ENABLE_SSS=true
ENABLE_PRIVACY_MODE=true
ENABLE_FEDERATED_SIGNING=true
ENABLE_GUARDIAN_NOTIFICATIONS=true

# Development flags
DEBUG_LOGGING=false
SQL_LOGGING=false
PRIVACY_AUDIT=true

# ===========================================
# PHOENIXD LSP CONFIGURATION
# ===========================================
# PhoenixD daemon connection settings (for browser use)
VITE_PHOENIXD_HOST=http://127.0.0.1:9740
VITE_PHOENIXD_API_TOKEN=your_phoenixd_api_token_here
VITE_PHOENIXD_USERNAME=phoenix

# Legacy server-side config (if needed)
PHOENIXD_HOST=http://127.0.0.1:9740
PHOENIXD_API_TOKEN=your_phoenixd_api_token_herePHOENIXD_USERNAME=phoenix

# Family banking configuration (for browser use)
VITE_FAMILY_PHOENIXD_ENABLED=true
VITE_PHOENIXD_MIN_CHANNEL_SIZE=50000

# Family liquidity management (for browser use)
VITE_FAMILY_EMERGENCY_THRESHOLD=10000
VITE_FAMILY_MAX_EMERGENCY=100000
VITE_FAMILY_ALLOWANCE_PREP_DAYS=2

# Legacy server-side config (if needed)
FAMILY_PHOENIXD_ENABLED=true
PHOENIXD_MIN_CHANNEL_SIZE=50000
FAMILY_EMERGENCY_THRESHOLD=10000
FAMILY_MAX_EMERGENCY=100000
FAMILY_ALLOWANCE_PREP_DAYS=2

# Channel size defaults by role (in satoshis)
PHOENIXD_PARENT_CHANNEL_SIZE=200000
PHOENIXD_TEEN_CHANNEL_SIZE=100000
PHOENIXD_CHILD_CHANNEL_SIZE=50000

# ===========================================
# FEDIMINT CONFIGURATION (FOR BROWSER USE)
# ===========================================
VITE_FEDIMINT_FEDERATION_ID=test_federation
VITE_FEDIMINT_GATEWAY_URL=http://127.0.0.1:8080
VITE_FEDIMINT_API_TOKEN=your_fedimint_api_token_here
VITE_FEDIMINT_NETWORK=testnet



# Lightning Tools and NWC feature flags
VITE_USE_ALBY_LIGHTNING_TOOLS=false
VITE_ENABLE_NWC_PROVIDER=true


# ===========================================
# HYBRID MINIMAL-CUSTODY LIGHTNING (LNbits)
# ===========================================
# Base URL of your LNbits instance (no trailing slash)
LNBITS_BASE_URL=

# Instance admin/bootstrapping key (server-only, used for wallet provisioning)
LNBITS_ADMIN_KEY=
# or
LNBITS_BOOTSTRAP_ADMIN_KEY=

# Webhook secret used to validate LNbits payment webhooks
LNBITS_WEBHOOK_SECRET=

# Default Scrub percent when enabling (0..100). 100 = forward all funds by default
LNBITS_DEFAULT_SCRUB_PERCENT=100

# Platform Lightning Address domain used in platform_ln_address
# Platform Lightning Address domain used by both client and Netlify Functions
# Rebranding tip: change this to your new domain and redeploy; no code changes required
# Examples: my.satnam.pub, payments.example.com
VITE_PLATFORM_LIGHTNING_DOMAIN=my.satnam.pub

# Public origin used for CORS security headers
PRODUCTION_ORIGIN=https://www.satnam.pub

# Feature flag gate for LNbits integration (client + server)
VITE_LNBITS_INTEGRATION_ENABLED=false

# Deterministic DUID server secret (server-only)
DUID_SERVER_SECRET=

# Optional: LNURL well-known caching control (seconds). Leave empty for default/no-store.
LNURL_WELL_KNOWN_CACHE_SECONDS=0
