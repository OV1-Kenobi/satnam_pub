# ===========================================
# SUPABASE CONFIGURATION (REQUIRED FOR SSS)
# ===========================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Alternative naming (for compatibility)
SUPABASE_SERVICE_KEY=your_service_role_key_here

# Database Configuration (Legacy)
DATABASE_URL=postgres://username:password@localhost:5432/identity_forge

# Redis Configuration
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# Nostr Configuration
NOSTR_RELAY_URL=wss://relay.example.com
NOSTR_PRIVATE_KEY=your_nostr_private_key_here

# Lightning Network Configuration
LIGHTNING_NODE_URL=https://your-lightning-node.com
LIGHTNING_MACAROON=your_macaroon_here
LIGHTNING_CERT_PATH=/path/to/tls.cert

# LNbits/Voltage Configuration
VITE_VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VITE_VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here
VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here

# LNProxy Privacy Configuration
VITE_LNPROXY_URL=https://lnproxy.org
LNPROXY_URL=https://lnproxy.org

# Lightning Address Configuration
VITE_LIGHTNING_ADDRESS_DOMAIN=satnam.pub
LIGHTNING_ADDRESS_DOMAIN=satnam.pub

# NIP-05 Configuration
NIP05_DOMAIN=yourdomain.com

# Family Member Configuration
# Domain used to identify family members for internal transfers
FAMILY_DOMAIN=satnam.pub
# Maximum length for usernames to be considered internal family members
FAMILY_USERNAME_MAX_LENGTH=20

# Server Configuration
PORT=3000
NODE_ENV=development

# ===========================================
# SSS & PRIVACY CONFIGURATION (CRITICAL)
# ===========================================
# Master key for encryption (change in production!)
# Generate with: openssl rand -base64 32
PRIVACY_MASTER_KEY=your-strong-master-key-here-32-chars-minimum

# Privacy-first authentication base salt
VITE_PRIVACY_BASE_SALT=satnam-privacy-2024

# Family encryption key (for browser use)
VITE_FAMILY_ENCRYPTION_KEY=your-family-encryption-key-here

# API Base URL (for browser use)
VITE_API_URL=/api

# Feature flags for SSS system
ENABLE_SSS=true
ENABLE_PRIVACY_MODE=true
ENABLE_FEDERATED_SIGNING=true
ENABLE_GUARDIAN_NOTIFICATIONS=true

# Development flags
DEBUG_LOGGING=false
SQL_LOGGING=false
PRIVACY_AUDIT=true

# Argon2 Security Configuration
# ⚠️  IMPORTANT: These settings control memory usage and performance
# Start with defaults and adjust based on your server's capabilities

# Memory cost (log2 of memory usage in KB)
# 15 = 32MB (development only)
# 16 = 64MB (production safe default)
# 17 = 128MB (good balance for production)
# 18 = 256MB (high security, monitor for OOM)
# 19+ = 512MB+ (dedicated servers only)
ARGON2_MEMORY_COST=16

# Time cost (number of iterations)
# 2 = minimum secure
# 3 = balanced default
# 5+ = high security (slower)
ARGON2_TIME_COST=3

# Parallelism (number of threads)
# 1 = single-threaded (maximum memory usage)
# 2+ = multi-threaded (may reduce memory pressure)
ARGON2_PARALLELISM=1

# ===========================================
# PHOENIXD LSP CONFIGURATION
# ===========================================
# PhoenixD daemon connection settings (for browser use)
VITE_PHOENIXD_HOST=http://127.0.0.1:9740
VITE_PHOENIXD_API_TOKEN=your_phoenixd_api_token_here
VITE_PHOENIXD_USERNAME=phoenix

# Legacy server-side config (if needed)
PHOENIXD_HOST=http://127.0.0.1:9740
PHOENIXD_API_TOKEN=your_phoenixd_api_token_here
PHOENIXD_USERNAME=phoenix

# Family banking configuration (for browser use)
VITE_FAMILY_PHOENIXD_ENABLED=true
VITE_PHOENIXD_MIN_CHANNEL_SIZE=50000

# Family liquidity management (for browser use)
VITE_FAMILY_EMERGENCY_THRESHOLD=10000
VITE_FAMILY_MAX_EMERGENCY=100000
VITE_FAMILY_ALLOWANCE_PREP_DAYS=2

# Legacy server-side config (if needed)
FAMILY_PHOENIXD_ENABLED=true
PHOENIXD_MIN_CHANNEL_SIZE=50000
FAMILY_EMERGENCY_THRESHOLD=10000
FAMILY_MAX_EMERGENCY=100000
FAMILY_ALLOWANCE_PREP_DAYS=2

# Channel size defaults by role (in satoshis)
PHOENIXD_PARENT_CHANNEL_SIZE=200000
PHOENIXD_TEEN_CHANNEL_SIZE=100000
PHOENIXD_CHILD_CHANNEL_SIZE=50000

# ===========================================
# FEDIMINT CONFIGURATION (FOR BROWSER USE)
# ===========================================
VITE_FEDIMINT_FEDERATION_ID=test_federation
VITE_FEDIMINT_GATEWAY_URL=http://127.0.0.1:8080
VITE_FEDIMINT_API_TOKEN=your_fedimint_api_token_here
VITE_FEDIMINT_NETWORK=testnet



# Lightning Tools and NWC feature flags
VITE_USE_ALBY_LIGHTNING_TOOLS=false
VITE_ENABLE_NWC_PROVIDER=true
