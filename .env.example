# ===========================================
# SUPABASE CONFIGURATION (REQUIRED FOR SSS)
# ===========================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Alternative naming (for compatibility)
SUPABASE_SERVICE_KEY=your_service_role_key_here

# Database Configuration (Legacy)
DATABASE_URL=postgres://username:password@localhost:5432/identity_forge

# Redis Configuration
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# Nostr Configuration
NOSTR_RELAY_URL=wss://relay.example.com
NOSTR_PRIVATE_KEY=your_nostr_private_key_here

# Lightning Network Configuration
LIGHTNING_NODE_URL=https://your-lightning-node.com
LIGHTNING_MACAROON=your_macaroon_here
LIGHTNING_CERT_PATH=/path/to/tls.cert

# LNbits/Voltage Configuration
VITE_VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VITE_VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here
VOLTAGE_LNBITS_URL=https://your-lnbits-instance.com
VOLTAGE_LNBITS_ADMIN_KEY=your_admin_key_here

# LNProxy Privacy Configuration
VITE_LNPROXY_URL=https://lnproxy.org
LNPROXY_URL=https://lnproxy.org

# Lightning Address Configuration
VITE_LIGHTNING_ADDRESS_DOMAIN=satnam.pub
LIGHTNING_ADDRESS_DOMAIN=satnam.pub

# NIP-05 Configuration
NIP05_DOMAIN=yourdomain.com

# Family Member Configuration
# Domain used to identify family members for internal transfers
FAMILY_DOMAIN=satnam.pub
# Maximum length for usernames to be considered internal family members
FAMILY_USERNAME_MAX_LENGTH=20

# Server Configuration
PORT=3000
NODE_ENV=development

# ===========================================
# SSS & PRIVACY CONFIGURATION (CRITICAL)
# ===========================================
# Master key for encryption (change in production!)
# Generate with: openssl rand -base64 32
PRIVACY_MASTER_KEY=your-strong-master-key-here-32-chars-minimum

# Feature flags for SSS system
ENABLE_SSS=true
ENABLE_PRIVACY_MODE=true
ENABLE_FEDERATED_SIGNING=true
ENABLE_GUARDIAN_NOTIFICATIONS=true

# Development flags
DEBUG_LOGGING=false
SQL_LOGGING=false
PRIVACY_AUDIT=true

# Argon2 Security Configuration
# ‚ö†Ô∏è  IMPORTANT: These settings control memory usage and performance
# Start with defaults and adjust based on your server's capabilities

# Memory cost (log2 of memory usage in KB)
# 15 = 32MB (development only)
# 16 = 64MB (production safe default)
# 17 = 128MB (good balance for production)
# 18 = 256MB (high security, monitor for OOM)
# 19+ = 512MB+ (dedicated servers only)
ARGON2_MEMORY_COST=16

# Time cost (number of iterations)
# 2 = minimum secure
# 3 = balanced default
# 5+ = high security (slower)
ARGON2_TIME_COST=3

# Parallelism (number of threads)
# 1 = single-threaded (maximum memory usage)
# 2+ = multi-threaded (may reduce memory pressure)
ARGON2_PARALLELISM=1

# ===========================================
# PHOENIXD LSP CONFIGURATION
# ===========================================
# PhoenixD daemon connection settings
PHOENIXD_HOST=http://127.0.0.1:9740
PHOENIXD_API_TOKEN=your_phoenixd_api_token_here
PHOENIXD_USERNAME=phoenix

# Family banking configuration
FAMILY_PHOENIXD_ENABLED=true
PHOENIXD_MIN_CHANNEL_SIZE=50000

# Family liquidity management
FAMILY_EMERGENCY_THRESHOLD=10000
FAMILY_MAX_EMERGENCY=100000
FAMILY_ALLOWANCE_PREP_DAYS=2

# Channel size defaults by role (in satoshis)
PHOENIXD_PARENT_CHANNEL_SIZE=200000
PHOENIXD_TEEN_CHANNEL_SIZE=100000
PHOENIXD_CHILD_CHANNEL_SIZE=50000

# ===========================================
# BROWSER-COMPATIBLE VARIABLES (NON-SENSITIVE ONLY)
# ===========================================
# ‚ö†Ô∏è IMPORTANT: Sensitive federation secrets (IDs, keys, API URLs) are stored in Supabase Vault
# Only non-sensitive configuration values should be in .env files

# Non-sensitive federation configuration
VITE_FEDIMINT_NOSTR_THRESHOLD=2
VITE_FEDIMINT_NOSTR_GUARDIAN_COUNT=3
VITE_FEDIMINT_CHILD_ECASH_DAILY_LIMIT=10000
VITE_FEDIMINT_NOSTR_PROTECTION_ENABLED=true
VITE_FEDIMINT_NSEC_SHARDING_THRESHOLD=3
VITE_FEDIMINT_GUARDIAN_APPROVAL_TIMEOUT=3600

# üîí SECURE VAULT-BASED ARCHITECTURE
# ‚ö†Ô∏è NEVER put service role keys in environment files!

# Client-side Supabase (ANON KEY ONLY - safe for browser)
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# üö® SERVICE ROLE KEY STORED IN SUPABASE VAULT - NOT HERE!
# Server APIs retrieve service role key from Vault at runtime

